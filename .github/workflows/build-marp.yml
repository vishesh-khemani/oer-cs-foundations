    name: Build Marp Presentations

    on:
      push:
        branches:
          - main
      # Allows you to run this workflow manually from the Actions tab
      workflow_dispatch:

    jobs:
      build:
        runs-on: ubuntu-latest
        
        steps:
          - name: Checkout repository
            uses: actions/checkout@v4

          - name: Build Marp slides
            uses: KoharaKazuya/marp-cli-action@v4
            with:
              # Output type: Converts the files to PDF format.
              args: slides/**/*.md --pdf --allow-local-files

          - name: Upload PDF artifacts
            uses: actions/upload-artifact@v4
            with:
              # Name for the artifact (the downloadable ZIP file)
              name: marp-pdfs
              # Path to the generated files. Marp CLI places output files 
              # alongside their source files if no output directory is specified.
              path: slides/**/*.pdf
